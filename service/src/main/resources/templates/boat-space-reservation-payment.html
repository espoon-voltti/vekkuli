<!DOCTYPE html>

<html layout:decorate="~{layout}">
<head>
    <title>Vekkuli - Kuntalaisen kirjautuminen</title>
</head>
<body layout:fragment="body">
<div class="box">
    <div th:replace="~{fragments/step-indicator :: stepIndicator(currentStep=3)}"></div>

    <div class="container">
        <h2 th:text="#{boatSpaceReservation.title.resourceReservation}">Espoon resurssivarausjärjestelmä</h2>

        <div class="columns is-multiline" id="payment-method-list">
            <div class="column is-one-quarter" th:each="provider : ${providers}">
                <form method="POST" th:action="${provider.url}" class="payment-form">
                    <!-- Render hidden inputs for each parameter -->
                    <div th:each="parameter : ${provider.parameters}">
                        <input type="hidden" th:name="${parameter.name}" th:value="${parameter.value}">
                    </div>
                    <!-- Render payment method button -->
                    <button class="button is-flex-direction-column">
                        <img class="row" th:src="${provider.svg}" alt.="Payment Icon"/>
                        <span class="row" th:text="${provider.name} ?: ''">Payment Method</span>
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>
